<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" layout:decorate="~{layout/layout}">
<head>
    <meta charset="UTF-8">
    <title>내 매물 목록</title>
    <link rel="stylesheet" th:href="@{/resource/css/bootstrap.min.css}">
</head>
<body>
<div layout:fragment="content">
    <div class="container mt-5">
        <h2>내 매물 목록</h2>
        <div class="table-responsive">
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th>매물 ID</th>
                        <th>유형</th>
                        <th>주소</th>
                        <th>월세</th>
                        <th>보증금</th>
                        <th>상태</th>
                        <th>작업</th>
                    </tr>
                </thead>
                <tbody>
                    <tr th:each="property : ${properties.content}">
                        <td th:text="${property.propertyId}"></td>
                        <td th:text="${property.propertyType}"></td>
                        <td th:text="${property.propertyAddress}"></td>
                        <td th:text="${property.monthlyRent}"></td>
                        <td th:text="${property.deposit}"></td>
                        <td th:text="${property.processingStatus}"></td>
                        <td>
                            <a th:href="@{/property/{id}(id=${property.propertyId})}" class="btn btn-primary btn-sm">보기</a>
                            <a th:href="@{/myProperty/update/{id}(id=${property.propertyId})}" class="btn btn-warning btn-sm">수정</a>
                            <a th:href="@{/myProperty/delete/{id}(id=${property.propertyId})}" class="btn btn-danger btn-sm">삭제</a>
                            <a th:href="@{/reservations/{propertyId}(propertyId=${property.propertyId})}" class="btn btn-info btn-sm">예약 신청 보기</a>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="pagination">
            <a th:href="@{/myPropertyList(page=${properties.number - 1}, size=${properties.size})}" th:if="${!properties.first}">&laquo;</a>
            <a th:each="pageNum : ${#numbers.sequence(1, properties.totalPages)}"
               th:href="@{/myPropertyList(page=${pageNum - 1}, size=${properties.size})}"
               th:text="${pageNum}"
               th:classappend="${pageNum == properties.number + 1} ? 'active'"></a>
            <a th:href="@{/myPropertyList(page=${properties.number + 1}, size=${properties.size})}" th:if="${!properties.last}">&raquo;</a>
        </div>
    </div>
</div>
</body>
</html>
